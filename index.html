<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Qantas Roblox</title>
  <link href="https://fonts.googleapis.com/css2?family=Creepster&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- üç™ Cookie Consent Banner -->
  <div id="cookie-banner">
    <div class="cookie-box">
      <p>
        Delta and our third-party partners access and store data on your device as necessary to provide this website and for analytics, enhanced functionality, and advertising.
        <br><br>
        <a href="terms-of-use.html" target="_blank">Terms of Use</a> ‚Ä¢ 
        <a href="/privacy-policy.html" target="_blank">Privacy Policy</a>
      </p>
      <button onclick="acceptCookies()">I Understand</button>
    </div>
  </div>

  <header class="qantas-tab">
    <div><strong>Qantas Roblox</strong></div>
    <nav>
      <a href="#">Home</a>
      <a href="checking.html">Manage Booking</a>
      <a href="httpsa://discord.gg/5Z77R4TE">Discord</a>
      <a href="">Menu</a>
    </nav>
  </header>

  <div class="hero">
    <div class="slide active"><img src="https://i.imgur.com/zLqZVO3.png" alt="Slide 1"></div>
    <div class="slide"><img src="https://i.imgur.com/fe8vTZz.png" alt="Slide 2"></div>
    <div class="slide"><img src="https://i.imgur.com/cwhwdY4.png" alt="Slide 3"></div>

    <div class="hero-text">
      <h1>Australia starts with Qantas Roblox</h1>
      <p>Happy Halloween, from the "Spirit" of Australia üëªüéÉ</p>
      <button onclick="showTab('book')">DISCOVER AUSTRALIA IN THE SKY</button>
      <button id="unblurBtn" onclick="toggleBlur()">Unblur</button>
    </div>

    <div class="dots">
      <span class="dot active" onclick="showSlide(0)"></span>
      <span class="dot" onclick="showSlide(1)"></span>
      <span class="dot" onclick="showSlide(2)"></span>
    </div>
  </div>

  <div class="tabs">
    <div class="tab active" onclick="showTab('book')">Book a trip</div>
    <div class="tab" onclick="showTab('status')">Flight status</div>
    <div class="tab"><a href="flight-sta.html" style="text-decoration: none; color: inherit;">Flight Status | Beta (NEW)</a></div>
    <div class="tab" onclick="showTab('credit')">Your Flight Credit</div>
  </div>

  <div id="book" class="tab-content active">
    <h2>Available Flights</h2>
    <div id="bookNowBtn"></div>
  </div>

  <div id="countdown"></div>
  <p id="teaser">üëª Something spooky is landed... Qantas has gone full Halloween.</p>

  <div id="status" class="tab-content">
    <h2>Check Flight Status</h2>
    <input id="bookingRef" type="text" placeholder="Enter Reference Code" />
    <input id="lastName" type="text" placeholder="Enter Discord Name" />
    <button onclick="checkBookingStatus()">Check Status</button>
    <div id="statusInfo"></div>
  </div>

  <div id="credit" class="tab-content">
    <div>
      <h2 style="color:var(--accent-orange);">USE YOUR FLIGHT CREDIT</h2>
      <input id="flightCreditCode" type="text" placeholder="Enter flight credit code" />
      <button class="glow-btn" onclick="applyFlightCredit()">Apply Credit</button>
      <div id="creditLoader" style="display:none;">‚è≥ Checking credit...</div>
    </div>
    <div id="creditFeedback"></div>
  </div>

  <!-- Help Launcher -->
  <div id="help-launcher" onclick="openChat()">
    <div>Help</div>
    <div></div>
  </div>

  <!-- Chat Interface -->
  <div id="chat-box">
    <div>Qantas Assistant | BETA</div>
    <div id="chat-log"></div>
    <div>
      <input type="text" id="chat-input" placeholder="Ask a question...">
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>

  <!-- News Alert Pop-Up -->
  <!-- News Alert Pop-Up removed (duplicate) -->

  <!-- üö® News Alert Pop-Up (single instance) -->
  <div id="newsAlert" class="overlay" aria-hidden="true">
    <div class="popup bounce" id="popupBox" role="dialog" aria-labelledby="newsTitle" aria-modal="true">
      <div class="logo-banner">
        <img src="https://1000logos.net/wp-content/uploads/2017/05/Qantas-Logo.png" class="logo" alt="Qantas logo"/>
        <img src="https://1000logos.net/wp-content/uploads/2020/04/Singapore-Airlines-Logo.png" class="logo" alt="Singapore Airlines logo"/>
      </div>

      <img src="https://assets.streamlinehq.com/image/private/w_512,h_512,ar_1/f_auto/v1/icons/1/airplane-n8b7yqbx56egkzsuwj0xel.png/airplane-ujfmhc9kta9qo5navlp2lm.png?_a=DATAg1AAZAA0" class="plane" alt="plane"/>

      <div id="progressBar" aria-hidden="true"></div>

      <h2 id="newsTitle">üö® NEWS ALERT</h2>
      <p><strong>Singapore Airlines √ó Qantas Airlines</strong></p>
      <p class="muted">New partnership just landed. Double the skies, double the snacks.</p>

      <p id="countdown" class="countdown-text" aria-live="polite"></p>

      <label for="snack">Choose your in-flight snack:</label>
      <select id="snack" onchange="snackReact()">
        <option value="">-- Select --</option>
        <option>Hot Cheetos</option>
        <option>Sprite</option>
        <option>Roblox Cookies</option>
        <option>Air Salad</option>
      </select>
      <p id="snackReaction" class="snack-reaction" aria-live="polite"></p>

      <div class="popup-actions">
        <a href="quiz.html"><button class="primary">üß† Take the Quiz</button></a>
        <a href="learnmore.html" target="_blank"><button class="secondary">üìò Learn More</button></a>
        <button onclick="closeAlert()" class="close">‚ùå Close</button>
      </div>
    </div>
  </div>

<!-- üíÖ Style -->
<style>
  #progressBar {
    height: 6px;
    width: 0%;
    background-color: #d50000;
    border-radius: 3px;
    margin-top: 20px;
    transition: width 1s linear;
  }

  body {
    transition: background 0.5s ease;
    background: #e0f7fa;
  }
  /* Overlay for the popup */
  .overlay {
    display: none;
    position: fixed;
    inset: 0; /* top:0; right:0; bottom:0; left:0 */
    background: rgba(0,0,0,0.45);
    z-index: 9998;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }

  .overlay[style*="display: block"], .overlay.active {
    display: flex;
  }

  .popup {
    background: linear-gradient(180deg, #fffaf9 0%, #fff0f0 100%);
    border: 2px solid rgba(213,0,0,0.95);
    padding: 18px;
    width: 100%;
    max-width: 420px;
    z-index: 9999;
    box-shadow: 0 8px 30px rgba(213,0,0,0.18);
    font-family: 'Arial', sans-serif;
    text-align: center;
    border-radius: 14px;
    transform-origin: center;
  }

  .popup.bounce {
    animation: bounceIn 420ms cubic-bezier(.2,.9,.3,1);
  }

  @keyframes bounceIn {
    0% { transform: scale(.8) translateY(-8px); opacity: 0; }
    60% { transform: scale(1.02) translateY(0); opacity: 1; }
    100% { transform: scale(1) translateY(0); }
  }

  .popup h2 { color: #b00020; margin: 10px 0 6px; font-size: 1.15rem; }
  .popup .muted { color: #333; margin-bottom: 8px; }

  .logo-banner { display:flex; gap:10px; justify-content:center; align-items:center; margin-bottom:8px; }
  .logo { height: 34px; width: auto; }

  .plane { width: 56px; margin: 6px auto; display:block; animation: land 900ms ease-out both; }

  @keyframes land { 0%{ transform: translateY(-30px) rotate(-6deg); opacity:0 } 70%{ transform: translateY(0) rotate(0); opacity:1 } 100%{ transform: translateY(2px) } }

  #progressBar { height:6px; width:0%; background:#d50000; border-radius:3px; margin:10px auto 0; transition: width 0.8s linear; max-width:320px }

  label { display:block; margin-top:12px; font-weight:600; }
  select { margin-top:6px; padding:8px 10px; border-radius:8px; border:1px solid #ccc; width:100%; max-width:260px }

  .snack-reaction { font-weight:700; margin-top:8px }

  .popup-actions { display:flex; gap:8px; justify-content:center; margin-top:18px; flex-wrap:wrap }
  .popup-actions .primary { background:#000; color:#fff; border:none; padding:8px 14px; border-radius:12px }
  .popup-actions .secondary { background:#0077cc; color:#fff; border:none; padding:8px 14px; border-radius:12px }
  .popup-actions .close { background:#6b6b6b; color:#fff; border:none; padding:8px 14px; border-radius:12px }

  .popup button { cursor:pointer; font-weight:700 }

  /* Accessibility focus */
  .popup button:focus, .popup select:focus { outline:3px solid rgba(0,123,255,0.25); outline-offset:2px }

  /* small screens */
  @media (max-width:420px) {
    .popup { padding:14px; border-radius:10px }
    .logo { height:28px }
    .popup h2 { font-size:1rem }
  }
</style>

<!-- üß† Script -->
<script>
function showPopup() {
  document.getElementById("newsAlert").style.display = "block";
  new Audio("https://www.myinstants.com/media/sounds/airplane-ding.mp3").play();
  startCountdown();

  const progressBar = document.getElementById("progressBar");
  progressBar.style.width = "0%";

  let progress = 0;
  const progressInterval = setInterval(() => {
    progress += 100 / 70;
    progressBar.style.width = `${progress}%`;
    if (progress >= 100) clearInterval(progressInterval);
  }, 1000);

  setTimeout(() => {
    const alertBox = document.getElementById("newsAlert");
    if (alertBox.style.display === "block") {
      alertBox.style.display = "none";
    }
  }, 70000);
}

function closeAlert() {
  document.getElementById("newsAlert").style.display = "none";
}

function startCountdown() {
  const launchDate = new Date();
  launchDate.setMinutes(launchDate.getMinutes() + 5);
  const countdownEl = document.getElementById("countdown");

  const interval = setInterval(() => {
    const now = new Date().getTime();
    const distance = launchDate - now;

    if (distance < 0) {
      clearInterval(interval);
      countdownEl.innerText = "üéâ Launching now!";
    } else {
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);
      countdownEl.innerText = `‚è≥ Launching in ${minutes}m ${seconds}s`;
    }
  }, 1000);
}

function snackReact() {
  const snack = document.getElementById("snack").value;
  const reaction = {
    "Hot Cheetos": "üî• Spicy choice!",
    "Sprite": "üßä Refreshing!",
    "Roblox Cookies": "üç™ Gamer fuel!",
    "Air Salad": "ü•¥ You sure about that?"
  };
  document.getElementById("snackReaction").innerText = reaction[snack] || "";
}

window.onload = function() {
  setTimeout(showPopup, 12200);
  setInterval(showPopup, 1800000);
};
</script>


  <script src="main.js"></script>
</body>
</html>
